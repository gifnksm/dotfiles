#!/bin/bash

set -eu -o pipefail

if [[ "$(pwd)" != "$(realpath "$(dirname "${BASH_SOURCE[0]}")")" ]]; then
    cd "$(dirname "${BASH_SOURCE[0]}")"
    exec ./"$(basename "${BASH_SOURCE[0]}")" "$@" # to update BASH_SOURCE, etc.
fi
source ./lib/common.bash
is_executed && return

parse_args "$@"

group_start_file
{
    source modules/paru.bash
    source modules/epel.bash
    source modules/curl.bash

    source modules/zsh.bash
    source modules/tmux.bash
    source modules/git.bash
    source modules/tig.bash
    source modules/emacs.bash
    source modules/vim.bash
    source modules/keychain.bash

    source modules/rustup.bash
    source modules/cargo_binstall.bash
    source modules/cargo_update.bash
    source modules/topgrade.bash
    source modules/rhq.bash
    source modules/starship.bash
    source modules/bat.bash
    source modules/ripgrep.bash
    source modules/skim.bash
    source modules/delta.bash
}
group_end
